(()=>{"use strict";console.log("i am called"),document.addEventListener("mouseup",(function(){const e=window.getSelection();e&&e.toString().length>0&&(!function(e){const n=[],o=document.createTreeWalker(e.commonAncestorContainer,NodeFilter.SHOW_TEXT,null);for(;o.nextNode();){const r=o.currentNode,a=document.createRange();a.selectNodeContents(r),c=a,(t=e).compareBoundaryPoints(Range.END_TO_START,c)<=0&&t.compareBoundaryPoints(Range.START_TO_END,c)>=0&&n.push(r)}var t,c;n.forEach((e=>{const n=document.createElement("span");n.style.backgroundColor="yellow";const o=document.createRange();o.selectNodeContents(e),o.surroundContents(n)}))}(e.getRangeAt(0)),e.removeAllRanges())}))})();